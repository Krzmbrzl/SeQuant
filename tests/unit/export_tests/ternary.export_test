A{a2;i2} B{i2;a1} C{i1;a2}

=================================================
Plain Text
=================================================
Declare index i_1
Declare index i_2
Declare index a_1
Declare index a_2

Declare tensor A[a_2, i_2]
Declare tensor B[i_2, a_1]
Declare tensor C[i_1, a_2]
Declare tensor I[i_1, a_1]
Declare tensor I[a_2, a_1]

Create I[i_1, a_1] and initialize to zero
Create I[a_2, a_1] and initialize to zero
Load A[a_2, i_2]
Load B[i_2, a_1]
Compute I[a_2, a_1] += A[a_2, i_2] B[i_2, a_1]
Unload B[i_2, a_1]
Unload A[a_2, i_2]
Load C[i_1, a_2]
Compute I[i_1, a_1] += I[a_2, a_1] C[i_1, a_2]
Unload C[i_1, a_2]
Unload I[a_2, a_1]
Persist I[i_1, a_1]

=================================================
